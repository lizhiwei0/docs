<html>
<head>
    <meta charset="utf-8">
    <title>ECharts</title>
    <!-- 引入 echarts.js -->
    <script src="js/echarts.js"></script>
</head>
<body>
    <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
    <div id="main" style="width: 600px;height:400px;"></div>
    <script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('main'));

var payload = {
            dates : ["day1","day2","day3","day4","day5","day6","day7","day8","day9","day10","day11","day12","day13","day14",
            "day15","day16","day17","day18","day19","day20","day21"],
            datesItems : ["访问量","耗时(毫秒)","访问量","耗时(毫秒)"],
              selectedDimensions : ["weight","performance.fmp"],
                datas : [ { url : "a.com", os: "IOS",days : [{pv : "1024",cost :"1201"},{pv : "1324",cost :"122"},{pv : "2024",cost :"2123"},{pv : "3024",cost :"4124"},{pv : "1024",cost :"1225"},{pv : "4024",cost :"3126"},{pv : "1524",cost :"2127"},{pv : "1024",cost :"1201"},{pv : "1324",cost :"122"},{pv : "2024",cost :"2123"},{pv : "3024",cost :"4124"},{pv : "1024",cost :"1225"},{pv : "4024",cost :"3126"},{pv : "1524",cost :"2127"},{pv : "1024",cost :"1201"},{pv : "1324",cost :"122"},{pv : "2024",cost :"2123"},{pv : "3024",cost :"4124"},{pv : "1024",cost :"1225"},{pv : "4024",cost :"3126"},{pv : "1524",cost :"2127"}]},
            { url : "a.com", os: "Andriod",days : [{pv : "1024",cost :"121"},{pv123 : "1024",cost :"122"},{pv : "1024",cost :"123"},{pv : "1024",cost :"124"},{pv : "1024",cost :"125"},{pv : "1024",cost :"126"},{pv : "1024",cost :"127"}]},
            { url : "b.com", os: "IOS",days : [{pv : "1024",cost :"121"},{pv : "1024",cost :"122"},{pv : "1024",cost :"123"},{pv : "1024",cost :"124"},{pv : "1024",cost :"125"},{pv : "1024",cost :"126"},{pv : "1024",cost :"127"}]},
            { url : "b.com", os: "Andriod",days : [{pv : "1024",cost :"121"},{pv : "1024",cost :"122"},{pv : "1024",cost :"123"},{pv : "1024",cost :"124"},{pv : "1024",cost :"125"},{pv : "1024",cost :"126"},{pv : "1024",cost :"127"}]}
            ]
        }

        // 指定图表的配置项和数据
        option = {
    title: {
        text: '折线图堆叠'
    },
    tooltip: {
        trigger: 'axis'
    },
    legend: {
        data:payload.selectedDimensions
    },
    grid: {
        left: '3%',
        right: '4%',
        bottom: '3%',
        containLabel: true
    },
    toolbox: {
       
        feature: {
              dataZoom: {
                    yAxisIndex: 'none'
                },
            saveAsImage: {}
        }
    },
    xAxis: {
        type: 'category',
        boundaryGap: false,
        data: payload.dates
    },
    yAxis: {
        type: 'value'
    },
    series: [
        {
            name:'邮件营销',
            type:'line',
            stack: '总量',
            data:[120, 132, 101, 134, 90, 230, 210]
        }
    ]
};

var data = payload.datas[1]
 option.series[0] = {
            name : 'Pv',
            type : 'line',
             stack: '总量',
             data : []
        }
        option.series[1] = {
            name : 'Cost',
            type : 'line',
             stack: '总量',
             data : []
        }
   for(var i =0; i< data.days.length; i++) {
         option.series[0].data.push(data.days[i].pv);
         option.series[1].data.push(data.days[i].cost);


   }


   myChart.setOption(option = {
        title: {
            text: 'Cat mobile PageMeta'
        },
        tooltip: {
            trigger: 'axis'
        },
        xAxis: {
           // data: payload.dates
           data : ["d1","d2","d3"]
        },
        yAxis: {
            splitLine: {
                show: false
            }
        },
        toolbox: {
            left: 'center',
            feature: {
                dataZoom: {
                    yAxisIndex: 'none'
                },
                restore: {},
                saveAsImage: {}
            }
        },
        dataZoom: [{
            startValue: 'd1'
        }, {
            type: 'inside'
        }],
       /** visualMap: {
            top: 10,
            right: 10,
            pieces: [{
                gt: 0,
                lte: 5000,
                color: '#096'
            }],
            outOfRange: {
                color: '#999'
            }
        },*/
        series: [ {
            name: 'Beijing AQI',
            type: 'line',
            data:[],
            /**
            markLine: {
                silent: true,
                data: [{
                    yAxis: 500
                }, {
                    yAxis: 1000
                }, {
                    yAxis: 2500
                }, {
                    yAxis: 3500
                }, {
                    yAxis: 4500
                }]
            }*/
        },
         {
            name: 'CAT mobile',
            type: 'line',
            data:[],
            /**
            markLine: {
                silent: true,
                data: [{
                    yAxis: 500
                }, {
                    yAxis: 1000
                }, {
                    yAxis: 2500
                }, {
                    yAxis: 3500
                }, {
                    yAxis: 4500
                }]
            }*/
        }
        ]
    });

 /** for(var i =0; i< data.days.length; i++) {
         option.series.data.push(data.days[i].pv);
   }*/

   option.series[0].data.push( 800)
   option.series[0].data.push( 2800)
   option.series[0].data.push( 3800)

    option.series[1].data.push( 1800)
   option.series[1].data.push( "N/A")
   option.series[1].data.push( 800)



        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
    </script>
</body>